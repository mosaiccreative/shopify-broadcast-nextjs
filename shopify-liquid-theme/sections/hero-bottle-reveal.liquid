<style>
  .bottle-hero {
    position: relative;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    background: linear-gradient(180deg, #1a1a1a 0%, #2d1810 100%);
  }

  .bottle-hero__content {
    position: relative;
    z-index: 2;
    text-align: center;
    opacity: 0;
    transform: translateY(60px);
    transition: all 1.4s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .bottle-hero__content.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .bottle-hero__title {
    font-size: clamp(48px, 8vw, 120px);
    font-weight: 700;
    color: #fff;
    margin: 0 0 24px 0;
    letter-spacing: -0.03em;
    line-height: 1;
  }

  .bottle-hero__subtitle {
    font-size: clamp(20px, 3vw, 32px);
    color: rgba(255, 255, 255, 0.7);
    font-weight: 300;
    letter-spacing: 0.02em;
  }

  .bottle-hero__bottle {
    position: absolute;
    width: 300px;
    height: 600px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.3);
    opacity: 0;
    transition: all 1.8s cubic-bezier(0.16, 1, 0.3, 1);
    filter: drop-shadow(0 30px 80px rgba(255, 68, 0, 0.3));
  }

  .bottle-hero__bottle.visible {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }

  .bottle-hero__glow {
    position: absolute;
    width: 600px;
    height: 600px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 68, 0, 0.2) 0%, transparent 70%);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: pulse 4s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
  }

  .bottle-hero__particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(255, 120, 50, 0.6);
    border-radius: 50%;
    animation: float 8s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(-100vh) translateX(20px); opacity: 0; }
  }
</style>

<div class="bottle-hero" data-section-id="{{ section.id }}">
  <div class="bottle-hero__glow"></div>
  
  <div class="bottle-hero__particles">
    {% for i in (1..12) %}
      <div class="particle" style="left: {{ i | times: 8 }}%; animation-delay: {{ i | times: 0.7 }}s;"></div>
    {% endfor %}
  </div>

  <div class="bottle-hero__bottle">
    <svg viewBox="0 0 200 400" fill="none" xmlns="http://www.w3.org/2000/svg">
      <!-- Bottle Cap -->
      <g class="bottle-cap">
        <rect x="70" y="20" width="60" height="30" rx="5" fill="#2a2a2a"/>
        <rect x="75" y="22" width="50" height="26" rx="3" fill="#3a3a3a"/>
        <line x1="85" y1="28" x2="85" y2="42" stroke="#555" stroke-width="2"/>
        <line x1="95" y1="28" x2="95" y2="42" stroke="#555" stroke-width="2"/>
        <line x1="105" y1="28" x2="105" y2="42" stroke="#555" stroke-width="2"/>
        <line x1="115" y1="28" x2="115" y2="42" stroke="#555" stroke-width="2"/>
      </g>
      
      <!-- Bottle Neck -->
      <path d="M 80 50 L 75 80 L 75 120 L 125 120 L 125 80 L 120 50 Z" fill="url(#glassGradient)" opacity="0.95"/>
      
      <!-- Bottle Body -->
      <path d="M 75 120 L 70 140 C 65 160, 60 200, 60 240 L 60 350 C 60 370, 70 380, 100 380 C 130 380, 140 370, 140 350 L 140 240 C 140 200, 135 160, 130 140 L 125 120 Z" 
            fill="url(#glassGradient)" opacity="0.95"/>
      
      <!-- Sauce Inside -->
      <path class="sauce-fill" d="M 76 280 L 76 350 C 76 365, 82 375, 100 375 C 118 375, 124 365, 124 350 L 124 280 Z" 
            fill="url(#sauceGradient)"/>
      
      <!-- Highlights -->
      <path d="M 85 130 C 85 130, 82 200, 82 250 L 82 320" stroke="rgba(255,255,255,0.3)" stroke-width="3" fill="none" opacity="0.6"/>
      <ellipse cx="100" cy="160" rx="8" ry="12" fill="rgba(255,255,255,0.2)"/>
      
      <!-- Label -->
      <rect x="70" y="200" width="60" height="80" rx="3" fill="#1a1a1a" opacity="0.8"/>
      <text x="100" y="235" font-family="Arial" font-size="14" font-weight="bold" fill="#ff4400" text-anchor="middle">PLATED</text>
      <text x="100" y="255" font-family="Arial" font-size="12" fill="#fff" text-anchor="middle">BY PY</text>
      
      <defs>
        <linearGradient id="glassGradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#ffffff;stop-opacity:0.2" />
          <stop offset="50%" style="stop-color:#ffffff;stop-opacity:0.05" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0.1" />
        </linearGradient>
        <linearGradient id="sauceGradient" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:#ff6b35;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#c41e00;stop-opacity:1" />
        </linearGradient>
      </defs>
    </svg>
  </div>

  <div class="bottle-hero__content">
    <h1 class="bottle-hero__title">{{ section.settings.title }}</h1>
    <p class="bottle-hero__subtitle">{{ section.settings.subtitle }}</p>
  </div>
</div>

<script>
  (function() {
    const section = document.querySelector('[data-section-id="{{ section.id }}"]');
    const bottle = section.querySelector('.bottle-hero__bottle');
    const content = section.querySelector('.bottle-hero__content');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          setTimeout(() => bottle.classList.add('visible'), 300);
          setTimeout(() => content.classList.add('visible'), 800);
        }
      });
    }, { threshold: 0.3 });
    
    observer.observe(section);
  })();
</script>

{% schema %}
{
  "name": "Hero Bottle Reveal",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Crafted Heat"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Small batch. Big flavor."
    }
  ],
  "presets": [
    {
      "name": "Hero Bottle Reveal"
    }
  ]
}
{% endschema %}
