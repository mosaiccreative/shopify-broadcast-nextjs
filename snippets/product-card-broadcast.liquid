{% comment %}
  Renders an enhanced product card with hover effects
  Usage: {% render 'product-card-broadcast', product: product %}
{% endcomment %}

<div class="product-card">
  <div class="product-card-media">
    <a href="{{ product.url }}">
      {% if product.featured_media %}
        <img 
          src="{{ product.featured_media | image_url: width: 600 }}" 
          alt="{{ product.featured_media.alt | escape }}"
          class="product-card-image primary-image"
          loading="lazy"
          width="600"
          height="600"
        >
      {% endif %}
      
      {% if product.media[1] %}
        <img 
          src="{{ product.media[1] | image_url: width: 600 }}" 
          alt="{{ product.media[1].alt | escape }}"
          class="product-card-image hover-image"
          loading="lazy"
          width="600"
          height="600"
        >
      {% endif %}
    </a>
    
    <div class="product-card-actions">
      <button class="quick-action" aria-label="Add to favorites">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
        </svg>
      </button>
      
      <button class="quick-action" data-quick-shop="{{ product.handle }}" aria-label="Quick shop">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="9" cy="21" r="1"/>
          <circle cx="20" cy="21" r="1"/>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
      </button>
    </div>
    
    {% if product.compare_at_price > product.price %}
      <span class="product-badge">Sale</span>
    {% endif %}
  </div>
  
  <div class="product-card-info">
    <h3 class="product-card-title">
      <a href="{{ product.url }}">{{ product.title }}</a>
    </h3>
    
    <div class="product-card-price">
      {% if product.compare_at_price > product.price %}
        <span class="price-sale">{{ product.price | money }}</span>
        <span class="price-compare">{{ product.compare_at_price | money }}</span>
      {% else %}
        <span class="price-regular">{{ product.price | money }}</span>
      {% endif %}
    </div>
  </div>
</div>
